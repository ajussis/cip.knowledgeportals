<html metal:use-macro="here/main_template/macros/master">

<metal:block fill-slot="top_slot"
                 tal:define="disable_column_one python:request.set('disable_plone.leftcolumn',1);" />
    
    <metal:main_macro define-macro="main">
        <metal:main fill-slot="main">
            <div tal:define="img python:context.getImage()">
                <img class="titleBall" src="frontpageball.jpg" />
                <h1 class="titleSweetpotato">Project:</h1>
                <h1 class="titleKnowledge" tal:content="context/Title">Sweetpotato</h1>
                <div class="lineBreak"></div>
                <div class="titleLine1Project"></div>
                <div class="titleLine2Project"></div>
                <div class="lineBreak"></div>
                <img src="image" style="float:left; width:100px; margin:7px 20px 7px 20px;" tal:condition="img" />
                <p style="margin: 7px 20px;" tal:content="context/Description"/>
            </div>
            <div class="lineBreak"></div>
  
            <h1>Information about the project</h1>
            <div class="projectInfo">
                <p><span class="projectStart">Start date:</span> <span tal:content="python:context.getStart()"></span></p>
                <p><span class="projectEnd">End date:</span> <span tal:content="python:context.getEnd()"></span></p>
    
                <div class="lineBreak"></div>

                <div tal:define="areas python:context.getArea();
                                 areasL python:len(areas);
                                 areas python:areas[:areasL-1];"
                     class="projectColumns">
                    <h2 class="projectH2">Area</h2>
                    <ol>
                        <tal:block tal:repeat="area areas">
                            <li tal:content="area" />
                        </tal:block>
                    </ol>
                </div>
            </div>
            <div style="width:475px; float:left;">
                <div class="projectMembers projectColumns">
                    <h2 class="projectH2">Project Group</h2>
                    <p><b>Leader:</b>
                        <!--tal:leaderHere condition="python:context.getLeader()" replace="python:context.getLeader()" /-->
                        <tal:leaderHere condition="python:context.getLeaderText()" replace="python:context.getLeaderText()" />
                    </p>
                    <p><b>Members:</b> <span>
                </div>
    
                <div class="projectMembers projectColumns">
                    <h2 class="projectH2">Financing sources</h2>
                    <p tal:content="python:context.getFinancing()"/>
                </div>

                <!--div class="projectInfoBottom"></div-->
            </div>
            <div class="lineBreak"></div>
     
            <h1>Project documentation</h1>

            <tal:foldercontents define="contentFilter contentFilter|request/contentFilter|nothing;
                                        limit_display limit_display|request/limit_display|nothing;
                                        more_url more_url|request/more_url|string:folder_contents;
                                        folderContents python:here.getFolderContents(contentFilter, batch=True, b_size=limit_display or 100);
                                        use_view_action site_properties/typesUseViewActionInListings|python:();
                                        over_limit python: limit_display and len(folderContents) > limit_display;
                                        folderContents python: (over_limit and folderContents[:limit_display]) or folderContents;
                                        batch folderContents;
                                        b_size python:12;
                                        b_start python:0;
                                        b_start request/b_start | b_start;
                                        member here/id;
                                        cFolder python:'/'.join(here.getPhysicalPath()) + '/' + 'createObject?type_name=Folder';
                                        cEvent python:'/'.join(here.getPhysicalPath()) + '/' + 'createObject?type_name=Event';
                                        cDoc python:'/'.join(here.getPhysicalPath()) + '/' + 'createObject?type_name=Document';
                                        cGallery python:'/'.join(here.getPhysicalPath()) + '/' + 'createObject?type_name=Gallery+Folder';
                                        cFile python:'/'.join(here.getPhysicalPath()) + '/' + 'createObject?type_name=File';
                                        cPrivate python:'/'.join(here.getPhysicalPath()) + '/' + 'createObject?type_name=b-org+Project';
                                        upload python:'/'.join(here.getPhysicalPath()) + '/' + '@@upload';">
                <div tal:condition="python: user.getUserName() != 'Anonymous User'">
                    <p class="projectLi2">Add content</p>
                    <ul style="float:left; list-style:none outside none;">
                        <li class="projectLi"><a href="#" tal:attributes="href cDoc">Page</a></li>
                        <li class="projectLi"><a href="#" tal:attributes="href cFolder">Folder</a></li>
                        <li class="projectLi"><a href="#" tal:attributes="href cEvent">Event</a></li>
                        <li class="projectLi"><a href="#" tal:attributes="href cGallery">Gallery</a></li>
                        <li class="projectLi"><a href="#" tal:attributes="href cFile">File</a></li>
                    </ul>
                    <ul style="float:left; list-style:none outside none; margin-left:15px;">
                        <li class="projectLi"><a href="#" tal:attributes="href upload">Upload many files</a></li>
                    </ul>
                    <ul style="float:left; list-style:none outside none; margin-left:15px;">
                        <li class="projectLi"><a href="#" tal:attributes="href cPrivate">Private Project Space</a></li>
                    </ul>

                </div>
                <div class="lineBreak"></div>
                <tal:listing condition="folderContents"
                             define="path python:'/'.join(here.getPhysicalPath());
                                     folds python:context.portal_catalog(path={'query' : path, 'depth' : 1}, portal_type = 'Folder');
                                     docs python:context.portal_catalog(path={'query' : path, 'depth' : 1}, portal_type = 'Document');
                                     galleries python:context.portal_catalog(path={'query' : path, 'depth' : 1}, portal_type = 'Gallery Folder');
                                     private python:context.portal_catalog(path={'query' : path, 'depth' : 1}, portal_type = 'b-org Project');
                                     news python:context.portal_catalog(path={'query' : path, 'depth' : 1}, portal_type = 'News Item');
                                     files python:context.portal_catalog(path={'query' : path, 'depth' : 1}, portal_type = 'File');">
                    <div class="projectContents" style="width:720px;">
                        <div style="margin-left:20px;">
                            <div tal:condition="folds" style="margin-top:10px; width:680px;">
                                <img style="float:left; padding:5px 50px 0 20px; width:100px;" src="spfolder2.jpg"/>
                                <h2>Folders</h2>
                                <div tal:repeat="item folds">
                                    <tal:defs define="item_url item/getURL|item/absolute_url;
                                                             item_id item/getId|item/id;
                                                             item_title_or_id item/pretty_title_or_id;
                                                             item_description item/Description;
                                                             item_type item/portal_type;
                                                             item_type_title item/Type;
                                                             item_modified item/ModificationDate;
                                                             item_created item/CreationDate;
                                                             item_object item/getObject;
                                                             item_icon python:plone_view.getIcon(item);">
                                        <img tal:replace="structure item_icon/html_tag" />
                                        <a href="#" tal:attributes="href item_url"
                                           tal:content="item_title_or_id">
                                            <tal:block replace="item_title_or_id" />
                                        </a>
                                    </tal:defs>
                                </div>
                            </div>
                            <div class="lineBreak"></div>
                            <div tal:condition="news" style="margin-top:10px;">
                                <img style="float:left; padding:5px 50px 0 20px; width:100px;" src="spnews.png"/>
                                <h2>News</h2>
                                <div tal:repeat="item news">
                                    <tal:defs define="item_url item/getURL|item/absolute_url;
                                                             item_id item/getId|item/id;
                                                             item_title_or_id item/pretty_title_or_id;
                                                             item_description item/Description;
                                                             item_type item/portal_type;
                                                             item_type_title item/Type;
                                                             item_modified item/ModificationDate;
                                                             item_created item/CreationDate;
                                                             item_object item/getObject;
                                                             item_icon python:plone_view.getIcon(item);">
                                        <img tal:replace="structure item_icon/html_tag" />
                                        <a href="#" tal:attributes="href item_url"
                                           tal:content="item_title_or_id">
                                            <tal:block replace="item_title_or_id" />
                                        </a>
                                    </tal:defs>
                                </div>
                            </div>
                            <div class="lineBreak"></div>
                            <div tal:condition="galleries" style="margin-top:10px;">
                                <img style="float:left; padding:5px 50px 0 20px; width:100px;" src="spgallery.png"/>
                                <h2>Image Galleries</h2>
                                <div tal:repeat="item galleries">
                                    <tal:defs define="item_url item/getURL|item/absolute_url;
                                                             item_id item/getId|item/id;
                                                             item_title_or_id item/pretty_title_or_id;
                                                             item_description item/Description;
                                                             item_type item/portal_type;
                                                             item_type_title item/Type;
                                                             item_modified item/ModificationDate;
                                                             item_created item/CreationDate;
                                                             item_object item/getObject;
                                                             item_icon python:plone_view.getIcon(item);">
                                        <img tal:replace="structure item_icon/html_tag" />
                                        <a href="#" tal:attributes="href item_url"
                                           tal:content="item_title_or_id">
                                            <tal:block replace="item_title_or_id" />
                                        </a>
                                    </tal:defs>
                                </div>
                            </div>
                            <div class="lineBreak"></div>
                            <div tal:condition="docs" style="margin-top:10px;">
                                <img style="float:left; padding:5px 50px 0 20px; width:100px;" src="spdocument.png"/>
                                <h2>Pages</h2>
                                <div tal:repeat="item docs">
                                    <tal:defs define="item_url item/getURL|item/absolute_url;
                                                             item_id item/getId|item/id;
                                                             item_title_or_id item/pretty_title_or_id;
                                                             item_description item/Description;
                                                             item_type item/portal_type;
                                                             item_type_title item/Type;
                                                             item_modified item/ModificationDate;
                                                             item_created item/CreationDate;
                                                             item_object item/getObject;
                                                             item_icon python:plone_view.getIcon(item);">
                                        <img tal:replace="structure item_icon/html_tag" />
                                        <a href="#" tal:attributes="href item_url"
                                           tal:content="item_title_or_id">
                                            <tal:block replace="item_title_or_id" />
                                        </a>
                                    </tal:defs>
                                </div>
                            </div>
                            <div class="lineBreak"></div>
                            <div tal:condition="files" style="margin-top:10px;">
                                <img style="float:left; padding:5px 50px 0 20px; width:100px;" src="spfile.png"/>
                                <h2>Files</h2>
                                <div tal:repeat="item files" style="margin-left:172px;">
                                    <tal:defs define="item_url item/getURL|item/absolute_url;
                                                             item_id item/getId|item/id;
                                                             item_title_or_id item/pretty_title_or_id;
                                                             item_description item/Description;
                                                             item_type item/portal_type;
                                                             item_type_title item/Type;
                                                             item_modified item/ModificationDate;
                                                             item_created item/CreationDate;
                                                             item_object item/getObject;
                                                             item_icon python:plone_view.getIcon(item);">
                                        <img tal:replace="structure item_icon/html_tag" />
                                        <a href="#" tal:attributes="href item_url"
                                           tal:content="item_title_or_id">
                                            <tal:block replace="item_title_or_id" />
                                        </a>
                                    </tal:defs>
                                </div>
                            </div>
                            <div class="lineBreak"></div>
                            <div tal:condition="private" style="margin-top:10px;">
                                <img style="float:left; padding:5px 50px 0 20px; width:100px;" src="spprivate.png"/>
                                <h2>Private Workspaces</h2>
                                <div tal:repeat="item private" style="margin-left:172px;">
                                    <tal:defs define="item_url item/getURL|item/absolute_url;
                                                             item_id item/getId|item/id;
                                                             item_title_or_id item/pretty_title_or_id;
                                                             item_description item/Description;
                                                             item_type item/portal_type;
                                                             item_type_title item/Type;
                                                             item_modified item/ModificationDate;
                                                             item_created item/CreationDate;
                                                             item_object item/getObject;
                                                             item_icon python:plone_view.getIcon(item);">
                                        <img tal:replace="structure item_icon/html_tag" />
                                        <a href="#" tal:attributes="href item_url"
                                           tal:content="item_title_or_id">
                                            <tal:block replace="item_title_or_id" />
                                        </a>
                                    </tal:defs>
                                </div>
                            </div>
                            <div class="lineBreak"></div>
                        </div>
                    </div>
                </tal:listing>
            </tal:foldercontents>
            <div class="lineBreak"></div>

            <tal:getInfo define="info python:context.getInfo();">
                <div tal:condition="info">
                    <h1>More information</h1>
                    <tal:infoHere replace="structure info" />
                </div>
            </tal:getInfo>
        </metal:main>
    </metal:main_macro>
</html>